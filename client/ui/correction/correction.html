<!-- CORRECTION FORMULAIRE -->
<template name="correction_form">
	
		<div class="mb-5">
			<form class="js-create-correction create-correction">
				
				<label>Proposer une correction</label>
				<div>
					<textarea type="text" class="form-control mb-2" placeholder="Correction" name="content">{{ticket.content}}</textarea>
					<button class="btn btn-success">Envoyer</button>
				</div>
				
			</form>
		</div>
	
</template>

<!-- LISTE CORRECTIONS -->
<template name="correction_accepted_list">
	
	{{#if whoCanAppreciate}}
	
		{{#each correction in corrections}}
			{{> correction_single correction}}
		{{/each}}
	
	{{else}}
	
		{{#each correction in correctionsAccepted}}
			{{> correction_single correction}}
		{{/each}}
	
	{{/if}}

</template>

<!-- CORRECTION SINGLE -->
<template name="correction_single">
	<div class="card my-2">
		<div class="card-body post-item" data-id="{{_id}}">
			<p class="{{#if statusAccepted this.status}}status-accepted{{/if}} 
					  {{#if statusRefused this.status}}status-refused{{/if}}">{{this.status}}</p>
			<h5 class="card-title">{{getUserFullname this.ownerId}}</h5>
			
			<!--<a data-toggle="collapse"  data-target="#contentCorrection{{this._id}}">Voir plus</a>-->
			
			<!--<div class="collapse" id="contentCorrection{{this._id}}">-->
				<p class="card-text">{{transformContentCorrection this.content}}</p>
			<!--</div>-->
			
			{{#if statusPending this.status}}{{#if whoCanAppreciate}}
			
				<button class="js-accept-correction btn btn-outline-success">Accepter</button>
				<button class="js-refuse-correction btn btn-outline-danger">Refuser</button>
			{{/if}}{{/if}}
		</div>
	</div>
</template>

<!-- MODAL CORRECTION ENVOYEE -->
<template name="correction_sended">

	<div class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content modal-correctionSended">
				<p class="text-white bg-success">Correction envoyée !</p>
				
				<p>En attente d'appréciation par l'auteur du ticket ou par un modérateur. <a href="/mycontributions">Consulter mes contributions</a></p>
			</div>
		</div>
	</div>

</template>