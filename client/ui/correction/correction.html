<template name="correction_form">
	<div class="card">
		<div class="card-body">
			<form class="js-create-correction">
				
				<label>Proposer une correction</label>
				<textarea type="text" class="form-control mb-2" placeholder="Correction" name="content">{{ticket.content}}</textarea>
				<button class="btn btn-success float-right">Envoyer</button>	
				
			</form>
		</div>
	</div>
</template>

<template name="correction_accepted_list">
	
	{{#if whoCanAppreciate}}
	
		{{#each correction in corrections}}
			{{> correction_single correction}}
		{{/each}}
	
	{{else}}
	
		{{#each correction in correctionsAccepted}}
			{{> correction_single correction}}
		{{/each}}
	
	{{/if}}

</template>

<template name="correction_single">
	<div class="card my-2">
		<div class="card-body post-item" data-id="{{_id}}">
			<p class="{{#if statusAccepted this.status}}status-accepted{{/if}} 
					  {{#if statusRefused this.status}}status-refused{{/if}}">{{this.status}}</p>
			<h5 class="card-title">{{getUserFullname this.ownerId}}</h5>
			<p class="card-text">{{this.content}}</p>
			
			{{#if statusPending this.status}}{{#if whoCanAppreciate}}
				<button class="js-accept-correction">Accepter</button>
				<button class="js-refuse-correction">Refuser</button>
			{{/if}}{{/if}}
		</div>
	</div>
</template>

<template name="correction_sended">

	<div class="modal fade">
		<div class="modal-dialog">
			<div class="modal-content modal-correctionSended">
				<p class="text-white bg-success">Correction envoyée !</p>
				
				<p>En attente d'appréciation par l'auteur du ticket ou par un modérateur. <a href="/mycontributions">Consulter mes contributions</a></p>
			</div>
		</div>
	</div>

</template>